<!--
User Profile Sidebar by @keenthemes
A component of Metronic Theme - #1 Selling Bootstrap 3 Admin Theme in Themeforest: http://j.mp/metronictheme
Licensed under MIT
-->

<div class="container">
    <div class="row profile">
		<div class="col-md-3">
			<div class="profile-sidebar">
				<!-- SIDEBAR USERPIC -->
				<div class="profile-userpic">
					<img src="http://www.ssc.education.ed.ac.uk/aboutSSC/pictures/alisonbstaff.jpg" class="img-responsive" alt="">
				</div>
				<!-- END SIDEBAR USERPIC -->
				<!-- SIDEBAR USER TITLE -->
				<div class="profile-usertitle">
					<div class="profile-usertitle-name">
						{{theUser.email}}
					</div>
				</div>
				<!-- END SIDEBAR USER TITLE -->
				<!-- SIDEBAR BUTTONS -->

				<div class="profile-usermenu">
					<ul class="nav">
						<li ng-click="displaySettings()">
							<a href="#">
							<i class="glyphicon glyphicon-cog"></i>
							Account Settings </a>
						</li>
						<li ng-click="displayCart()">
							<a href="#">
							<i class="glyphicon glyphicon-shopping-cart"></i>
							Cart </a>
						</li>
						<li ng-click="displayOrdHistory()">
							<a href="#">
							<i class="glyphicon glyphicon-list-alt"></i>
							Order History </a>
						</li>
						<li ng-click="adminOrdersDisplay()" ng-if="isAnAdmin">
							<a href="#">
							<i class="glyphicon glyphicon-list"></i>
							Order Management </a>
						</li>
						<li ng-click="displayUsers()" ng-if="isAnAdmin">
							<a href="#" >
							<i class="glyphicon glyphicon-user"></i>
							User Management </a>
						</li>
					</ul>
				</div>
				<!-- END MENU -->
			</div>
		</div>
		<div class="col-md-9">
            <div class="profile-content">

            	<form id="userSettingsEdit-form" name="userSettingsEdit" ng-show="showSettings">
				    <alert type="danger" ng-show="error">
				        {{ error }}
				    </alert>

				    <div class="form-group">
				        <label for="email">Email address</label>
				        <input type="text" class="form-control" id="email" ng-model="theUser.email">
				    </div>
				    <div class="form-group">
				        <label for="userSettingsEdit-password">Password</label>
				        <input type="password" class="form-control" id="userSettingsEdit-password" ng-model="theUser.password">
				    </div>
				    <button ng-click="submitUserEdit()" class="btn btn-default userSettingsEdit-btn">Submit</button>
				</form>

				<ordermanagement ng-show="true" ng-repeat="aOrder in allOrders"></ordermanagement>
				
	            <user-history ng-if="showHistory" ng-repeat="order in orders track by $index"></user-history>

			   <div ng-if="showUsers" ng-repeat="user in allUsers" ng-controller="AdminController">
				   <div class="profile-usertitle">
				   		<h4 class="profile-usertitle-name">{{user.email}}</h4>
				   </div>
			   		<div class="profile-userbuttons">
				   		<button type="button" class="btn btn-success btn-sm" ng-click="makeAnAdmin(user._id)">Make Admin</button>
						<button type="button" class="btn btn-danger btn-sm" ng-click="deleteAUser(user._id)">Delete User</button>
					</div>
			   </div>

            </div>
		</div>
	</div>
</div>
<br>
<br>